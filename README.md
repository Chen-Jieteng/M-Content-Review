# MChecker
## 项目描述
开源机审模型全流程项目，模拟针对通用APP的短视频、图文、广告的机审模型架构的实践及优化，以提供现有模型框架一个新路径及思路。
- 测试APP为开源项目douyin：https://github.com/zyronon/douyin
- 本项目对douyin的页面进行了增删查改，添加了模拟广告运作机制。

## 项目架构
![进度](https://github.com/Chen-Jieteng/MChecker/blob/main/%E4%B8%8B%E8%BD%BD.png)


## 审核平台页面

## 技术选型
模型层：多模态+LLM
- 视频/图像识别：YOLOv10，NudeNet v2，或者OpenAI CLIP/Qwen-VL-Max
- 音频转写：whisper-v3-large或者sensevoice
- 大语言模型：国际版本：GPT系列、claude系列、gemini系列；国产版本：qwen2.5-72B，Yi-Large-Turbo、GLM-4-Long
- 推理框架：vLLM

工程层：prompt管理 + 数据流 
- prompt管理：langchain（智能体用），llamaindex（多模态用）

数据处理
- 视频抽帧：ffmpeg和PyAV
- 数据存储：DuckDB轻量分析 或者 ClikeHouse大规模分析
- 流式处理：Kafka和Flink

部署
- FastAPI，通过REST和WebSocket实现

## 可视化层
- 前端：Streamlist或者Next.js混搭ShadCN UI
- 图表：ECharts或Plotly Dash

## 机审内容范围定义
- 短视频：视频流、图片、文本、语音统一对齐的视频内容实体
- 评论内容：文本、图片、评论树节点上下文（保证只删除违规的上下文，不会误删整个评论）
- 广告内容：视频流、图片、文本、语音统一对齐的广告内容实体 

## Prompt审核分层机制
- Prompt L1：直接审核
- Prompt L2：违规风险分类、输出分数
- Prompt L3：业务规则（法律敏感内容等）

## 数据来源
- NudeNet数据集（主要是图片）
- OpenNSFW2（普通训练集）
- AVA数据集（黄暴内容）
- COCO+任务检测模型（非违规，但是可做正常人像对照集）
- YouTube-8M（擦边视频）

## 过滤标准
- 文本：敏感词、涉政/色情/暴恐、违禁文案
- 图像/视频：低俗画面、暴力、广告、水印、封面与内容不符、格式错误等
- AI生成：未标注AI生成内容、造谣、不实信息、虚拟人未实名注册
- 涉政敏感内容：历史事件/民族冲突/宗教敏感话题等
- 直播内容：性暗示、不健康表达、迷信、审美扭曲、未成年人不适内容

## 可视化机审结果WebUI
WebUI用风险分数输出：输出违规或者不违规，给出风险等级（100满分）

## 文件输出
- 模型对照表：LLM和LMM等、MoE模型对照组；包括Qwen，Open，豆包，DeepSeek等不同版本的对照实验，写出质检和模型表现相关报告
- 使用小规模（500-800条）人工标注评估集，合成数据进行Prompt压力测试，统计指标（准确率、召回率、误杀率、风险评分；注意这些数据要有一致性，不可没有联系或写假数据）

## 隐私保护措施
- 对所有收集的测试样本作者隐私信息（发表者ID等）进行模糊处理
- 项目遵守MIT协议

## 开源参与者
edwin99

## 项目时间表：2025年8月
8月8日 
- [x] 项目预启动：架构选型、技术选型（模型、可视化路径、部署）、项目规划、机审范围定义、CQC质检规范定义等
- [x] 项目准备：模型下载、依赖安装、环境配置

8月9日
- [x] 项目启动前阶段：上传开源文件至github，
- [ ] 项目启动阶段：模型部署、针对开源模型进行PEFT微调（Adapter-FT、LoRA-FT、P-FT、 Prompt-FT、BitFit、指令FT等）

8月10日
- [ ] 项目启动阶段：代码开发（前后端）+测试
- [ ] 项目启动后阶段：模型基准测试、性能压力测试、迭代微调
- [ ] 项目文件撰写：技术报告、模型审核表现报告

8月11日
- [ ] 项目复盘
- [ ] 项目相关解释文件
- [ ] 项目提交
